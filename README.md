# ğŸš€ CNN-Transformer AI æ¨è«–æœå‹™éƒ¨ç½²

æœ¬å°ˆæ¡ˆä½¿ç”¨ FastAPI æ¡†æ¶å’Œ Uvicorn éƒ¨ç½²äº†ä¸€å€‹åŸºæ–¼ PyTorch çš„ CNN-Transformer åˆ†é¡æ¨¡å‹ï¼Œç”¨æ–¼å¯¦æ™‚çš„åœ–ç‰‡æ¨è«–ã€‚

## ğŸ› ï¸ é‹è¡Œç’°å¢ƒ

æœå‹™å¯ä»¥åœ¨ Docker ç’°å¢ƒæˆ–æœ¬åœ°è™›æ“¬ç’°å¢ƒä¸­é‹è¡Œã€‚

### Docker é‹è¡Œ (æ¨è–¦)

1.  **å»ºç½®æ˜ åƒï¼š**
    ```bash
    docker build -t ai-inference-service:latest .
    ```
2.  **é‹è¡Œå®¹å™¨ï¼š** (ä»¥ 4 å€‹ worker é€²ç¨‹é‹è¡Œ)
    ```bash
    docker run -d -p 8000:8000 --name ai-service ai-inference-service:latest
    ```

### æœå‹™è¨ªå•èˆ‡æ–‡ä»¶

æœå‹™é‹è¡Œåœ¨ `http://localhost:8000`ã€‚

**ğŸ“– äº’å‹•å¼ API æ–‡ä»¶ (Swagger UI)ï¼š** [http://localhost:8000/docs](http://localhost:8000/docs)

---

## ğŸ’¡ å¦‚ä½•ä½¿ç”¨ /predict API

### 1. API ç«¯é»

| æè¿°         | æ–¹æ³•   | è·¯å¾‘              |
| :----------- | :----- | :---------------- |
| **åœ–ç‰‡æ¨è«–** | `POST` | `/predict_image/` |

### 2. è¼¸å…¥æ ¼å¼ç¯„ä¾‹

æ‚¨éœ€è¦ä»¥ **multipart/form-data** æ ¼å¼ä¸Šå‚³ä¸€å€‹æª”æ¡ˆï¼Œæ¬„ä½åç¨±ç‚º `file`ã€‚

| åƒæ•¸åç¨± | é¡å‹        | èªªæ˜                                                                 |
| :------- | :---------- | :------------------------------------------------------------------- |
| `file`   | æª”æ¡ˆ (File) | å¾…æ¨è«–çš„åœ–ç‰‡æª”æ¡ˆ (PNG, JPG)ã€‚æœå‹™å°‡å…¶è½‰æ›ç‚º 28x28 ç°éšæ ¼å¼é€²è¡Œæ¨è«–ã€‚ |

### 3. è¼¸å‡ºæ ¼å¼ç¯„ä¾‹ (JSON)

API æˆåŠŸæ¨è«–å¾Œï¼Œå°‡å›å‚³ä¸€å€‹ JSON ç‰©ä»¶ï¼ŒåŒ…å«é æ¸¬çµæœã€‚

**æˆåŠŸå›å‚³ç¯„ä¾‹ (HTTP 200 OK):**

```json
{
  "filename": "test_image_123.png",
  "predicted_class": 7,
  "detail": "Prediction successful."
}
```

**éŒ¯èª¤å›å‚³ç¯„ä¾‹ (HTTP 500 Internal Server Error):**
{
"message": "Processing failed: [å…·é«”éŒ¯èª¤æè¿°ï¼Œä¾‹å¦‚åœ–ç‰‡æ ¼å¼ç„¡æ•ˆ]"
}
